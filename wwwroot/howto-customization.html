<HTML>
 <head>
  <title>JUpload - File Upload Applet (HowTo - customize it)</title>
 </head>
 <body>
<script language="javascript" src="common.js"> </script>

<H1>How to customize this applet ?</H1>
<H2>Content of this page</H2>
<DIR>
	<LI><A href="#MainChoices">Main Choices</A>
	<LI><A href="#HTMLConfiguration">Basic HTML configuration</A>
	<LI><A href="#ExistingUploadPolicy">Using another existing UploadPolicy</A>
	<LI><A href="#NewUploadPolicy">Creating a new UploadPolicy</A>
	<LI><A href="#parameters">List of available parameters</A>
	<LI><A href="#links">Links</A>
</DIR>

<A name="MainChoices"><H2>Main choices</H2></A>
You can customize the behavour of this applet by using one (or more) of the following ways (from the simplest to the 
most complex):
<UL>
	<LI><U>Basic HTML Customization</U>. Simply precise other applet parameters to the applet, in the HTML APPLET tag: 
	copy the sample given in the <A HREF="applet-basic.html">basic</A> demo. The parameters for all available upload 
	policies are displayed on the API page for UploadPolicy.
	<LI><U>Using another available upload policy</U>. You can precise another policy amongst the available ones, 
	by specifying a <I>uploadPolicy</I> parameter, like in the 
	<A HREF="applet-basic-picture.html">basic picture mode</A> demo. 
	<LI><U>Creating a new UploadPolicy, inheriting from an existing uploadpolicy</U>, like 
	DefaultUploadPolicy or PictureUploadPolicy. Then, you get a default behaviour, and only define what is specific 
	to your needs.
	<LI><U>Creating an entirely new UploadPolicy</U>. More complex: you need to code again every method. But then, you
	can use precisely anagewhat the kind of fils that may be upload, check them, prepare upload (for instance, compress
	file before upload), check that specific parameters are set before upload (the existing CoppermineUploadPolicy
	checks that an albumId is set), and much more...
	<LI><U>Changing the upload way</U>. Since 2.9.0, the DefaultUploadThread provides a default implementation of
	the FileUploadThread interface. It should be easy to inherit from it, and change the upload behaviour.
	<LI><U>And, of course, change code everywhere in the applet</U> ... like I did    ;-) 
</UL> 


<A name="HTMLConfiguration"><H2>Basic HTML Customization</H2></A>

A first level of customization is available by using the DefaultUploadPolicy (that is, not provide any uploadPolicy applet
parameter), and use parameters available within the DefaultUploadPolicy, without any Java coding: these
parameters are provided in HTML, within the APPLET tag that creates this applet. These parameters are described
<a href="#parameters">below</a>. As there is no uploadPolicy parameter, you can only use the parameters that are implemented
in the DefaultUploadPolicy. See the column 'Implemented in' in the parameter list, <a href="#parameters">hereafter</a>.
<BR>The main customizations available by applet parameters are listed here: 
<DIR>
	<LI> Control of the target URL (where files should be uploaded).
	<LI> Choose of an upload policy, among the available policies (see all classes that inherit from DefaultUploadPolicy
	<LI> Log information level, with debugLevel.
	<LI> Language control, that can be specific for the HTML page.
	<LI> A URL where all debug information can/should be sent when an error occurs (see urlToSendErrorTo).
	<LI> Number of files to be put in one HTTP Request (see nbFilesPerRequest)
	<LI> A string to control that upload is a success (see stringUploadSuccess)
	<LI> For pictures only: A maximum width and/or height (see maxPicHeight and maxPicWidth)
</DIR> 

<A NAME="ExistingUploadPolicy"><H2>Using another existing UploadPolicy</H2></A>

<P>By providing the <I>uploadPolicy</I> parameter within the APPLET tag, you can select another class that implements
the UploadPolicy interface. 
<A NAME="policies">The current implemented upload policies are :</A>
<DIR>
<LI><B>DefaultUploadPolicy</B>. It's a 'simple' instanciation of each UploadPolicy methods. 
It makes JUpload work the same way as the original JUpload (v1).
<LI><B><I>(deprecated)</I> CustomizedNbFilesPerRequestUploadPolicy</B> is a DefaultUploadPolicy, which allows 
to control how many files are to be uploaded for each HTTP request. This class is now of no use, as the 
<I>nbFilesPerRequest</I> is now managed directly by the DefaultUploadPolicy.
<LI><B>FileByFileUploadPolicy</B> is CustomizedNbFilesPerRequestUploadPolicy, where the
number of files to upload for each HTTP request is ... one! This policy behaves as the DefaultUploadPolicy, when
nbFilesPerRequest parameter (see below) is 1.
<LI><B>PictureUploadPolicy</B> adds picture handling the the applet. The main 
functionnalities are :
		<DIR>
			<LI> Filter: only picture files can be uploaded.
			<LI> Preview picture: The look of the applet changes, to allow display of the selected picture.
			<LI> Rotation: you can rotate the picture by quarter of turn.
			<LI> Resizing: the applet can resize picture before upload, to lower network (and time) transfert. Just 
				specify a maximum width and/or height, in pixels. 
		</DIR>
<LI><B>CoppermineUploadPolicy</B> is a special PictureUploadPolicy: it allows upload
to the nice <a href="http://coppermine.sourceforge.net">coppermine picture gallery</a>. Its main add is to manage 
the albumId, so that uploaded pictures are directly uploaded into the selected album, and to change the current
navigator page to the album property page, so that the user can change comments for all uploaded pictures in one step.
</DIR>


<A NAME="NewUploadPolicy"><H2>Customization by creating a new Java Upload Policy (simple java coding)</H2></A>

<H3>Presentation</H3>

<P>If these customization possibilities are not enough, you can create a new upload policy. To do this, you need to 
create a new java class: the easiest way is to inherit from DefaultUploadPolicy. You can then override 
methods of the UploadPolicy interface. </P>
<P>This kind of customization will be compatible within next JUpload applet release. If you need other hooks (method
within the UploadPolicy interface, to allow other customizations), please let me know by 
<a href="mailto:etienne_sf@sourceforge.net">sending me a mail</a>, or post a new Feature Request in the jupload sourceforge 
project page.</P>
<P>Here is a description of the customization that you can do by using the creating a new policy, using the 
UploadPolicy interface:
<DIR>
	<LI> Control files management:
	   <DIR>
		  <LI> Authorization (or not) to add a file to the list of files to upload, see UploadPolicy.createFileData(File). 
		  This allows the policy to validate files, before adding them to the list of files that must be displayed. The
		  PictureUploadPolicy.createFileData(File) checks that the added files are valid pictures. 
		  <LI> File preparation before upload (for instance to resize a picture, or encode a text file to a specific format)
	   </DIR>
	<LI>Display other buttons on the applet (or remove the default buttons), see UploadPolicy.createTopPanel(JButton, JButton, JButton, JPanel)
	<LI>Specific behaviour, on file selection. The wjhk.jupload2.policies.PictureUploadPolicy allows picture 
	management. The UploadPolicy.onSelectFile(FileData) method is called when the user selects a file in the list. This allow
	the policy to do any action about this file. The PictureUploadPolicy.onSelectFile(FileData) displays a 
	preview pictures on the top part of the applet.  
</DIR>

<H3>Note: UploadPolicyFactory</H3>

<P>The JuploadApplet asks the UploadPolicyFactory to create (instanciate) needed UploadPolicy. That is </P>
<DIR>
	<LI>During intialization of the applet, the UploadPolicyFactory.getUploadPolicy() method is called. This method
	checks the <I>uploadPolicy</I> parameter. If this uploadPolicy is unknown or not set, the DefaultUploadPolicy is 
	used. If a specific uploadPolicy is found, it can of course read specific parameters from the APPLET tag.
	<LI>Then, UploadPolicyFactory.getUploadPolicy() creates the class implementing the UploadPolicy factory, and 
	returns the reference to this class.
	<LI>The upload policy can not be changed while the applet is running.
</DIR>

<H3>Creation of a new UploadPolicy: detailed steps</H3>
<P>To create a new UploadPolicy, you'll need to:</P>
<DIR
	<LI><B>Create a new class, implementing the UploadPolicy interface</B>. The easiest way is to inherit from an
	existing UploadPolicy. This insure that your new policy will be compatible with next JUpload releases.
	<BR><I>Note: The upload policies are created by UploadPolicyFactory. Their constructor must:
	<DIR>
		<LI>Be public, to be called by this class,
		<LI>Have one parameter: the current JUploadApplet.
	</DIR></I> 
	<LI><B>Override some UploadPolicy methods</B>, to have your specific behaviour.
	<LI>Don't change any other java code, so that your upload policy will work with next JUpload releases.
	<BR><I>Note: if you need another 'hook', to be able to add specific customization, please add a new Feature Request
	in sourceforge, and/or <a href="mailto:etienne_sf@sourceforge.net">send me a mail</a>, as I don't read forums
	every day.</I>
</DIR>


<A NAME="parameters"><H2>Parameters</H2></A>

Here is the list of all parameters available in the current package. These are applet parameters that should be 
'given' to the applet, with <PARAM> tags, as precised below in the <A href="#example">example</A>.
<BR>
<I>Note: please check the UploadPolicy API page, to have the real up-to-date list of parameters.</I>

<TABLE border=1>
<TR>
  <TH>Parameter name</TH>
  <TH>Default value / <BR> Implemented in</TH>
  <TH>Description</TH>
</TR>
<TR>
  <TD>afterUploadURL</TD>
  <TD><I>null</I><BR>since 2.9.0<BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>This parameter is used by all policies. It allows the applet to change the current page to another
  one after a successful upload. <BR>This allows, for instance, to display a page containing the file description
  of the newly uploaded page. 		
  </TD>
</TR>
<TR>
  <TD>albumId</TD>
  <TD>-1 <BR><BR> {@link wjhk.jupload2.policies.CoppermineUploadPolicy}</TD>
  <TD>This parameter is only used by CoppermineUploadPolicy. So it is to be used to upload into a 
      <a href="http://coppermine.sourceforge.net/">coppermine picture gallery</a>. This parameter 
      contains the identifier of the album, where pictures should be used. See CoppermineUploadPolicy 
      for an example.
      <BR>
      Before upload, CoppermineUploadPolicy.{@link wjhk.jupload2.policies.CoppermineUploadPolicy#isUploadReady()}
      checks that the albumId is correct, that is: >=1.		
  </TD>
</TR>
<TR>
  <TD>debugLevel</TD>
  <TD>0 <BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>With 0, you get the normal production output. The higher the number is, the more information is displayed
      in the status bar.
	     <BR>Note: the whole debug messages is stored in the {@link wjhk.jupload2.policies.DefaultUploadPolicy#debugBufferString}.
      It can be used to display more information, if needed. See also the 'webmasterMail' parameter.
  </TD>
</TR>
<TR>
  <TD>filenameEncoding</TD>
  <TD><I>null</I><BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>With null, the filename in the <I>Content-Disposition</I> header is not encoded. If not null, the applet
  	tries to encode this filename with the given encoding. It's up to the receiver (the web site) to decode this
  	encoding (see {@link #getUploadFilename(FileData, int)}.
  	<BR>Example: if the "UTF8" encoding is choosen, the PHP function urldecode can be used to decode the filename.
  </TD>
</TR>
<TR>
  <TD>highQualityPreview</TD>
  <TD>false<BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>If this parameter is set to <I>true</I>, the applet will call the BufferedImage.getScaledInstance(), instead
  of doing a basic scale transformation. This consume more CPU: on a PII 500MHz, the full screen go from around 5 
  seconds to between 12 and 20 seconds, for a picture created by my EOS20D (8,5M pixels). The standard preview (above 
  the file list) seem to be displayed at the same speed, whatever is the value of this parameter.
  <BR>Note: when resizing is done before upload, the BufferedImage.getScaledInstance() is always called, so that
  the uploaded picture is of the best available quality.
  </TD>
</TR>
<TR>
  <TD>lang</TD>
  <TD>Navigator language <BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>Should be something like <I>en</I>, <I>fr</I>... Currently only french and english are known 
      from the applet. If anyone want to add another language ... Please translate the
      wjhk.jupload2.lang.lang_en, and send it back to <mailto:etienne_sf@sourceforge.net">.
  </TD>
</TR>
<TR>
  <TD>lookAndFeel <BR> since 2.5</TD>
  <TD><I>empty</I><BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>This allows to control the look & feel of the applet. The authorized values are:
  	<DIR>
  		<LI><I>empty</I>: uses the default look & feel. This is the same as java.
  		<LI>java: uses the java default look & feel. Same as <I>empty</I>.
  		<LI>system: uses the current system look and feel. The call will be : 
  			<BR>UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
  		<LI>Any valid String argument for UIManager.setLookAndFeel(String).
  	</DIR>
  </TD>
</TR>
<TR>
  <TD>maxChunkSize<BR>Since 2.7.1</TD>
  <TD>0<BR><I>Long.MAX_VALUE</I><BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>This parameters defines the maximum size of an upload. 
	  <DIR>
		  <LI>If not set, or set to a value of 0 or less, the chunk mode is disabled. That is: each file will be uploaded
		   within being splitted in pieces.  
		  <LI>If set to a value of 1 or more, the upload size will be never be more than
		   maxChunkSize. A file bigger will be split in several part of <I>maxChunkSize</I> size, then the last part will 
		   contain the remaining, and will probably be smaller than <I>maxChunkSize</I>.
	  </DIR>
	  <BR>
	  <B>How to build the server part:</B> the server will have to 'guess' that the file is splitted, and then it will
	  have to reconstruct the uploaded file. Here are the necessary informations:
	  <DIR>
	  	<LI>When a file is chunked, the <I>jupart</I> and <I>jufinal</I> parameter are given in the URL (get 
	  	parameters). This identify a chunk upload. If these parameters are not given, the file(s) is(are) uploaded
	  	in one piece.
	  	<LI><I>jupart</I> identify the part number: from 1 to N for a file being plitted in N pieces. The N-1 chunks
	  	should be <I>maxChunkSize</I> bytes long. The last one contains the remaining of the file.
	  	<LI><I>jufinal</I> is set to 0 for chunks from 1 to N-1. It is is set to 1 only for the last chunk (N, in 
	  	this 'example').
	  	<LI>The uploaded filename is not modified when the upload is chunked. Example: upload of the file 
	  	<I>bigPicture.jpeg</I>, of 4,5 Mb, with chunk of 2Mb. The upload is splitted in three chunk. Chunk 1 and 2 are
	  	2Mb long. The third one is 0,5Mb long. The uploaded filename for these three uploads is <I>bigPicture.jpeg</I>.
	  	It's up to the server part to read the <I>jupart</I> and <I>jufinal</I> get parameters, to understand that the
	  	upload is chunked.
	  	<LI><B>Important:</B> The server script <U>must</U> check the resulting filesize. If not, the client can 
	  	send a file of any size, and fill the server hard drive.  
	  	<LI>The wwwroot/pages/parseRequest.jsp is a java example of a server page that can receive chunk upload. It 
	  	stores each chunk is <I>filename.partN</I> (where N is the chunk number), then construct the final file, by 
	  	concatenating all parts together.  
	  </DIR>
	  <B>Note: </B>
	  If nbFilesPerRequest is different than 1, the applet will try to upload the files until the sum of their 
	  content length is less than maxChunkSize. The upload is triggered just before the sum of their content length
	  is bigger then maxChunkSize.<BR>
	  If one file is bigger than <I>maxChunkSize</I>, all previous files are uploaded (at once or not, depending on 
	  nbFilesPerRequest). Then the 'big' file is uploaded alone, splitted in chunk. Then upload goes on, file by file
	  or not, depending on <I>nbFilesPerRequest</I>.
  </TD>
</TR>
<TR>
  <TD>maxFileSize<BR>Since 2.7.1</TD>
  <TD>0<BR><I>Long.MAX_VALUE</I><BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>This parameter identify the maximum size that an uploaded file may have. It prevent the user to upload too big
  files. It is especially important when chunk upload is activated (see below <I>maxChunkSizew</I>).
  <DIR>
  	<LI>If <I>maxChunkSize</I> is not set, negative or 0, <I>maxFileSize</I> should be the maximum upload size of 
  	the server. In this case, it is useful only to display a message when the user select a file that will be 
  	refused by the server.
  	<LI>If chunk upload is activated, this parameter becomes really important: in this case the maximum file size
  	of an uploaded file is ... the available space on the server hard drive! (see below, <I>maxChunkSize</I>).
  </DIR> 
  </TD>
</TR>
<TR>
  <TD>maxPicHeight</TD>
  <TD>-1 <BR><BR> {@link wjhk.jupload2.policies.PictureUploadPolicy}</TD>
  <TD>This parameters allows the HTML page to control the maximum height for pictures. If a picture is to be 
     download, and its height is bigger, the picture will be resized. The proportion between width and height
     of the resized picture are the same as those of the original picture. If both maxPicHeight and maxPicWidth
     are given, it can happen that the resized picture has a height lesser than maxPicHeight, so that width 
     is no more than maxPicWidth.
     <BR>
     <B>Precisions:</B>
     <BR>
     If this parameter value is negative, then no control is done on the picture height.
     <BR>
     If the original picture is smaller than the maximum size, the picture is not enlarged.
     <BR>
     If the picture is resized, its other characteristics are kept (number of colors, ColorModel...). The picture 
     format is ketp, if targetPictureFormat is empty. If the picture format is a destructive (like jpeg), the 
     maximum available quality is choosed.
  <BR><I>See also maxPicWidth, realMaxPicHeight</I>
  </TD>
</TR>
<TR>
  <TD>maxPicWidth</TD>
  <TD>-1 <BR><BR> {@link wjhk.jupload2.policies.PictureUploadPolicy}</TD>
  <TD>Same as maxPicHeight, but for the maximum width of the uploaded picture.
  <BR><I>See also maxPicHeight, realMaxPicWidth</I>
  </TD>
</TR>
<TR>
  <TD>nbFilesPerRequest</TD>
  <TD>-1 <BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>This allows the control of the maximal number of files that are uploaded in one HTTP upload to the server.
       <BR>
       If set to -1, there is no maximum. This means that all files are uploaded in the same HTTP request.
       <BR>
       If set to 5, for instance, and there are 6 files to upload, there will be two HTTP upload request to the 
       server : 5 files in the first one, and that last file in a second HTTP request.   
  </TD>
</TR>
<TR>
  <TD><B>postURL</B></TD>
  <TD><I>Mandatory</I> <BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD><B>
		It contains the target URL toward which the files should be upload. This parameter is mandatory for 
	existing class. It may become optional in new UploadPolicy, that would create this URL from other data.
	If this URL may change during the applet execution time, you can call the setProperty applet method from 
	javascript, or create a new UploadPolicy class and either :
		<DIR>
			<LI>Override the {@link wjhk.jupload2.policies.UploadPolicy#getPostURL()} method, to make the postURL totaly dynamic.  
			<LI>Override the {@link wjhk.jupload2.policies.UploadPolicy#setPostURL(String)} method, to modify the postURL on the fly, when it is changed. 
			<LI>Override the {@link wjhk.jupload2.policies.UploadPolicy#setProperty(String, String)} method. The 
				{@link wjhk.jupload2.policies.CoppermineUploadPolicy} changes the postURL when the albumID property changes.  
			<LI>Find another solution ... 
	    </DIR>
	    <U>Note 1:</U> in HTTP, the upload is done in the same user session, as the applet uses the cookies from the 
	    navigator. This allows right management during upload, on the server side.<BR>
	    <U>Note 2:</U> FTP URL should looks like: ftp://username:password@myhost.com:21/directory<BR>
	    <U>Note 3:</U> in FTP, you'll have to add the jakarta-commons-oro.jar and jakarta-commons-net.jar jar files in
	    the applet ARCHIVE tag attribute. See the 'advanced_js_demo.html page for a sample. You'll have to put the
	    two files coming from the JUpload distribution in the same directory as the wjhk.jupload.jar.
	 </B> </TD>
</TR>
<TR>
  <TD>realMaxPicHeight</TD>
  <TD>-1 <BR><BR> {@link wjhk.jupload2.policies.PictureUploadPolicy}<BR><I>Since v2.8.1</I></TD>
  <TD>This parameters is about the same as maxPicHeight. It overrides it for pictures that must be transformed
  (currentlty only when the picture is rotated).
  <BR>The aim of this parameter, is to prevent the applet to resize picture, and let the server do it: it will be
  much quicker. 
  <BR>This allows you to:
  <DIR>
  <LI>Put a 'big' <I>maxPicHeight</I> (or don't provide the parameter in the APPLET tag), and let the server resize 
	  the picture according to the real maxHeight. The <I>maxPicHeight</I> will be used when the picture is not 
	  tranformed by the user.
  <LI>Put this realMaxHeight to the real configured maxHeight. The applet will then directly produce the final file, 
  when it has to tranform the picture (picture rotation, for instance).
  </DIR>
  <BR><I>See also maxPicHeight, realMaxPicWidth, maxChunkSize (to override any server upload size limitation).</I>
  </TD>
</TR>
<TR>
  <TD>realMaxPicWidth</TD>
  <TD>-1 <BR><BR> {@link wjhk.jupload2.policies.PictureUploadPolicy}<I>Since v2.8.1</I></TD>
  <TD>Same as realMaxPicHeight, but for the maximum width of uploaded picture that must be transformed.
  <BR><I>See also maxPicWidth, realMaxPicHeight</I>
  </TD>
</TR>
<TR>
  <TD>serverProtocol</TD>
  <TD>HTTP/1.1 <BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>This parameter allows the control of the protocol toward the server. Currently, only HTTP is supported, so 
		valid values are HTTP/0.9 (not tested), HTTP/1.0 and HTTP/1.1.
     <BR>This parameter is really useful only in {@link wjhk.jupload2.policies.CoppermineUploadPolicy}, 
		as the coppermine application also controls that the requests send within an HTTP session uses the same 
     HTTP protocol (as a protection to limit the 'steal' of session cookies).  
 </TD>
</TR>
<TR>
  <TD>showStatusBar</TD>
  <TD>True<BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>If given with the <I>False</I> value, the status bar will be hidden. The applet will still store all debug
  information in it. But the user won't see it any more. If a problem occurs, the <I>urlToSendErrorTo</I> can still
  be used to log all available information.
 </TD>
</TR>
<TR>
  <TD>storeBufferedImage</TD>
  <TD>false <BR><BR> {@link wjhk.jupload2.policies.PictureUploadPolicy}</TD>
  <TD>This parameter indicates that the preview image on the applet is kept in memory. It works really
      nice under eclise.  But, once in the navigator, the applet runs very quickly out of memory. So I add a lot
      of calls to {@link wjhk.jupload2.filedata.PictureFileData#freeMemory(String)}, but it doesn't change 
      anything. Be careful to this parameter, and let it to the default value, unless you've well tested it
      under all your target client configurations. 
   </TD>
</TR>
<TR>
  <TD>stringUploadSuccess</TD>
  <TD>empty string ("") since 2.9.0<BR>(was ".* 200 OK$" before) <BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>This string is a regular expression. It allows the applet to test that the server has accepted the upload. 
  If this parameter is given to the applet, the upload thread will try to match this regular epression to each lines 
  returned from the server.<BR>
		If the match is successfull once, the upload is considered to be a success. If not, a 
     {@link wjhk.jupload2.exception.JUploadExceptionUploadFailed} is thrown.
    <BR>
    The default test expression testes that the web server returns no HTTP error: 200 is the return code for a 
    successfull HTTP request. It actually means that postURL is a valid URL, and that the applet was able to send 
    a request to this URL: there should be no problem with the network configuration, like proxy, password proxy...). 
    <BR>
    <B>But</B> it doesn't mean that the uploaded files have correctly be managed by the server. For instance, the
    URL can be http://sourceforge.net, which, of course, would not take your files into account.
    <BR>
    So, as soon as you know a regular expression that test the return from the target application (and not just
    a techical HTTP response code), change the stringUploadSuccess to this value. For instance, the 
    {@link wjhk.jupload2.policies.CoppermineUploadPolicy}
    changes this value to "^SUCCESS$", as the HTTP body content of the server's answer contain just this exact 
    line. This 'success' means that the pictures have correctly be added to the album, that vignettes have been 
    generated (this I suppose), etc...
  </TD>
</TR>
<TR>
  <TD>targetPictureFormat</TD>
  <TD><I>Empty String</I> <BR><BR>  (<B>to be</B> implemented in {@link wjhk.jupload2.policies.PictureUploadPolicy})</TD>
  <TD>This parameter can contain any picture writer known by the JVM. For instance: jpeg, png, gif. All standard 
      formats should be available. More information can be found on the  
      <A href='http://java.sun.com/j2se/1.4.2/docs/guide/imageio/spec/title.fm.html'>java.sun.com</A> web site.
  </TD>
</TR>
<TR>
  <TD><B>uploadPolicy</B></TD>
  <TD>DefaultUploadPolicy <BR><BR> see {@link wjhk.jupload2.policies.UploadPolicyFactory}</TD>
  <TD>This parameter contains the class name for the UploadPolicy that should be used. If it is not 
      set, or if its value is unknown from {@link wjhk.jupload2.policies.UploadPolicyFactory#getUploadPolicy(JUploadApplet)},
      the {@link wjhk.jupload2.policies.DefaultUploadPolicy} is used.
  </TD>
</TR>
<TR>
  <TD>urlToSendErrorTo</TD>
  <TD><I>Empty String</I> <BR><BR> {@link wjhk.jupload2.policies.DefaultUploadPolicy}</TD>
  <TD>If this url is given, and an upload error occurs, the applet post the all the debug output to this
    address. It's up to this URL to handle this mail. It is possible to just store the file, or to log the 
    error in a database, or to send a mail (like the mail.php script given with the coppermine pack).
    <BR>
    <U>Note:</U> Don't put a mailto link here: it won't be able to manage the debug output, that is too big. The 
    maximum length of a mailto depends on the navigator. With Firefox, it seems to be around 4kb.
  </TD>
</TR>
</TABLE>

<A NAME="links"></A>
<script language="javascript"> footer(); </script>

 </body>
</HTML> 	 	