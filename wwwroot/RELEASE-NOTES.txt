

TODO LIST

- Make upload of files with non ascii characters (like accents) works with Coppermine. It seems like the problem is
within coppermine, as standard coppermine upload doesn't work with these files. Here the applet si a progress, as it
allows upload of a file whose name contain a space (dosn't work with standard coppermine upload).

- Be able to swith the debug mode on and off, without the debugLevel applet parameter. This is specialy useful to 
test problem on production web sites, without impact on other users, and without the right to modify files (for
instance, when someone give me a login/password so that I can repeat the problem).


V2.4.1

Bugs Corrected:
- [Major] Corrected an important memory leak when viewing a fullscreen picture (by clicking on the preview picture). 
- [Minor] When previewing a picture in 'big' format (full screen), the size is now calculated only with the Window 
size, not with the maxPicWidth and maxPicHeight parameters.
- [Minor] Temporary files where not deleted, when using picture mode, and stopping the upload with the 'stop' button.


Changes:
- [Major] The applet has been tested, and runs well with only a little allocated memory: tested with a JVM of 
minMemory=8M and a maxMemory=16M.
- [Translation] Now translated in Esperanto, thanks to Chuck Smith (whiz.at.users.sourceforge.net)


V2.4.0

Bugs Corrected:
- It's now possible to use the 'stop' button to stop an upload. 
- It's no more possible to click on 'upload' during an upload, which could lead to unpredictable behaviour.
- In the given examples, the parse.jsp had the following bug, now corrected: no call to fileItem.delete(). Without it 
the heap server quickly runs out of memory.


Changes:
- for Picture uploads (PictureUploadPolicy and CoppermineUploadPolicy) Upload of pictures stored in a read-only 
directory won't block the upload anymore. The original file is send, without being resized or rotated.
- The Mime Type is now correct, but only for pictures (see PictureUploadPolicy and CoppermineUploadPolicy).
- Modified a test of the stringUploadSuccess applet parameter: if it's not found, a warning is now displayed. This
test seems to be buggy on a lot of various systems. But I could repeat the troubles on my server. Now, if the 
success string is not found, there is only a warning message.
- Add of a FileUploadThread interface, that will be manipulated by other packages. This will help creation of new
version of FileUploadThreadVn. The FileUploadThreadVn are the successive versions of these classes. I keep them, as 
people often update them for their needs.
- Add of a FileUploadThreadV4 and a UploadFileData. These class will help to implement further extension like _chunk_ 
(to send file piece per piece) or eaisier mark of upload error per file. The original FileUploadThread has been renamed into
FileUploadThreadV1 (of anyone stil use it). FileUploadThreadV1, FileUploadThreadV2 and FileUploadThreadV3 implement 
- Creation of a FileData interface. The default implementation is now into the DefaultFileData.

V2.3.1

Changes:
- Spanish translation available (thanks to jesusangelwork: jesusangelwork[at]users.sourceforge[dot]net)
- The UploadPolicy.getUploadFilename method has been renamed in getUploadName, to avoid error, as this is not the
filename. See the javadoc for all details. BE CAREFUL, if you create a new UploadPolicy, that a new getUploadFilename
has been created. This to allow future encoding of filenames (still work in progress)


V 2.3.0

Bugs corrected:
- The upload would fail when there are less files to upload than nbFilesPerRequest (NullPointerException 
in FileUploadThreadV3).
- The stringUploadSuccess was never read from the applet parameters.

Changes:
- Add of the German language, thanks to Dr. Zoidberg.
- UPLOAD CLASS IS DYNAMIC. You can now create your own UploadPolicy, and put the full class name (with its package) 
into the uploadPolicy parameter to the applet: the UploadPolicyFactory will create it. Ths constructor for UploadPolicy
must have one parameter: JUploadApplet. From this applet, the UploadPolicy can get any necessary parameter, like
the statusArea, where it can displays text to the user.
- A new 'advanced_jd_demo.html' page allows a newcomer to check the effect of all parameters on the applet.
- The UploadPolicy.afterUpload() parameters changed : filePanel has been removed (useless, as it can be retrieve with 
the applet reference, already known from the UploadPolicy, see its constructor).
- The files are now removed just after upload. This means that, for instance, when uploading file by file, the user 
can see the already removed files disappear from the list of files to upload. If a crash occurs, he can then retry
the upload, with the remaining files.

V 2.2.4

Bugs corrected:
- NullPointerException (in FilePanelDataModel2 and in PictureFileData) because of the suppression of static methods 
in UploadPolicyFactory.

Changes:
- Java samples updated. They should be clean now. They use the last jakarta commons fileupload package.


V 2.2.3

Bugs corrected:
- Samples were bugguy: wrong URL, missing 'MAYSCRIPT' in the applet tags, which causes JSException
- minor bug: UploadPolicyFactory contains erroneous static getCurrentUploadPolicy, which would cause unpredictale 
result when several instances of the applet exist in memory

Enhancement:
- Upload policies can now 'refuse' a file added by the user. For instance, PictureUploadPolicy accepts only picture 
files (see createFileData).
- Sample now separate all uploaded files. This was already coded by William (creator of jupload), but not used by the 
sample.
- (minor) PictureFileData now correctly handles the isPicture internal variable.


V 2.2.0

  This version is a major release of jupload. It is based on the 'juploadV20040415R2' package. It adds the following 
functionnalities:
  
- Picture management. The applet is now able to:
  - Preview pictures,
  - Resize picture, to a maximum width and/or height before upload (this lower the network traffic, and can prevent 
the server to transform picture after upload)
  - Display a full screen picture (by clicking on the previewed picture),
  - Rotate the picture right or left,
  - Download pictures and select the upload album on the same web page (with the jupload.php script),
  - Upload all pictures/files in one click,
- UploadPolicy allows easy configuration of the the applet behaves (see below for the current list of parameters), 
- Multi-language.

Here are the current parameters allows that the upload policies allows to control. All details are given in the javadoc:
- uploadPolicy
- postURL
- debugLevel
- lang
- urlToSendErrorTo
- nbFilesPerRequest
- serverProtocol
- stringUploadSuccess
- maxPicHeight
- PictureUploadPolicy
- maxPicWidth
- maxPicHeight
- targetPictureFormat
- albumId
- storeBufferedImage
